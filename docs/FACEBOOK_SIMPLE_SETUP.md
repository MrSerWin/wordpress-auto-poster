# üîµ Facebook - –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–ï–ó Business Manager

## –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ù–ï —Ç—Ä–µ–±—É–µ—Ç:
- ‚ùå Business Manager
- ‚ùå System User
- ‚ùå –°–ª–æ–∂–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

## –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ:
- ‚úÖ Facebook Page (—É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å)
- ‚úÖ Facebook App (—Å–æ–∑–¥–∞–¥–∏–º –∑–∞ 5 –º–∏–Ω—É—Ç)
- ‚úÖ App ID + App Secret

---

## –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å Facebook App

### 1.1 –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ Facebook Developers

–û—Ç–∫—Ä–æ–π—Ç–µ: https://developers.facebook.com/apps

### 1.2 –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

1. –ù–∞–∂–º–∏—Ç–µ **Create App**
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø: **Business** (–∏–ª–∏ **Other**)
3. –ù–∞–∂–º–∏—Ç–µ **Next**

### 1.3 –ó–∞–ø–æ–ª–Ω–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**App Display Name:** `WordPress Auto Poster` (–∏–ª–∏ –ª—é–±–æ–µ –∏–º—è)
**App Contact Email:** –≤–∞—à email

–ù–∞–∂–º–∏—Ç–µ **Create App**

### 1.4 –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ

–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å Facebook –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.

‚úÖ **App —Å–æ–∑–¥–∞–Ω!**

---

## –®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç—å App ID –∏ App Secret

### 2.1 –ü–µ—Ä–µ–π—Ç–∏ –≤ Settings

–í –ª–µ–≤–æ–º –º–µ–Ω—é:
- **Settings** ‚Üí **Basic**

### 2.2 –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å credentials

–í—ã —É–≤–∏–¥–∏—Ç–µ:

**App ID:** `123456789012345` ‚Üê —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ
**App Secret:** –Ω–∞–∂–º–∏—Ç–µ **Show**, –∑–∞—Ç–µ–º —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ

### 2.3 –î–æ–±–∞–≤–∏—Ç—å –≤ .env

–û—Ç–∫—Ä–æ–π—Ç–µ `.env` —Ñ–∞–π–ª –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```bash
FACEBOOK_APP_ID=123456789012345
FACEBOOK_APP_SECRET=abc123def456...
```

‚úÖ **Credentials —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!**

---

## –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å Facebook Login

### 3.1 –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ **Add Product**
2. –ù–∞–π–¥–∏—Ç–µ **Facebook Login**
3. –ù–∞–∂–º–∏—Ç–µ **Set Up**

### 3.2 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ú–æ–∂–µ—Ç–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É - defaults –ø–æ–¥–æ–π–¥—É—Ç.

‚úÖ **Facebook Login –¥–æ–±–∞–≤–ª–µ–Ω!**

---

## –®–∞–≥ 4: –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–≤—ã–π —Ç–æ–∫–µ–Ω

### 4.1 –û—Ç–∫—Ä—ã—Ç—å Graph API Explorer

–ü–µ—Ä–µ–π–¥–∏—Ç–µ: https://developers.facebook.com/tools/explorer/

### 4.2 –í—ã–±—Ä–∞—Ç—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–í –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É:
- **Meta App:** –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### 4.3 –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ (permissions)

–ù–∞–∂–º–∏—Ç–µ **Permissions** –∏ –¥–æ–±–∞–≤—å—Ç–µ:
- ‚úÖ `pages_show_list`
- ‚úÖ `pages_read_engagement`
- ‚úÖ `pages_manage_posts`

–ù–∞–∂–º–∏—Ç–µ **Generate Access Token**

### 4.4 –í–æ–π—Ç–∏ –∏ –¥–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

1. –í–æ–π–¥–∏—Ç–µ –≤ Facebook
2. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
3. –ù–∞–∂–º–∏—Ç–µ **Continue**

### 4.5 –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å User Access Token

–í—ã —É–≤–∏–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤ –ø–æ–ª–µ **Access Token**.

‚ö†Ô∏è **–ù–ï** –¥–æ–±–∞–≤–ª—è–π—Ç–µ —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –≤ .env - –º—ã –µ–≥–æ –æ–±–º–µ–Ω—è–µ–º –Ω–∞ Page Token!

‚úÖ **–¢–æ–∫–µ–Ω –ø–æ–ª—É—á–µ–Ω!**

---

## –®–∞–≥ 5: –ü–æ–ª—É—á–∏—Ç—å Page Access Token

### 5.1 –û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª

–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
cd /Volumes/T9/1_dev/wordpress-auto-poster
```

### 5.2 –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –æ–±–º–µ–Ω–∞

```bash
# –í—Ä–µ–º–µ–Ω–Ω–æ –¥–æ–±–∞–≤—å—Ç–µ User Token –≤ .env:
FACEBOOK_ACCESS_TOKEN=EAAxxxxxx...  # ‚Üê –≤–∞—à User Token –∏–∑ Graph Explorer

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:
python refresh_facebook_token.py --refresh
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:**
1. –°–∫—Ä–∏–ø—Ç –æ–±–º–µ–Ω—è–µ—Ç User Token –Ω–∞ Long-lived User Token
2. –ó–∞—Ç–µ–º –ø–æ–ª—É—á–∏—Ç Page Access Token –¥–ª—è –≤–∞—à–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç `.env` —Ñ–∞–π–ª
4. –¢–æ–∫–µ–Ω –±—É–¥–µ—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω ~60 –¥–Ω–µ–π

### 5.3 –†–µ–∑—É–ª—å—Ç–∞—Ç

```
üéâ –¢–û–ö–ï–ù –£–°–ü–ï–®–ù–û –û–ë–ù–û–í–õ–ï–ù!

–°—Ç—Ä–∞–Ω–∏—Ü–∞: The Next AI
Page ID: 632284956645073
–ù–æ–≤—ã–π —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ .env

–°–ª–µ–¥—É—é—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
  –ß–µ—Ä–µ–∑ ~60 –¥–Ω–µ–π
```

‚úÖ **Page Token –ø–æ–ª—É—á–µ–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!**

---

## –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

### 6.1 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω

```bash
python refresh_facebook_token.py --check
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–¢–∏–ø —Ç–æ–∫–µ–Ω–∞: PAGE
–í–∞–ª–∏–¥–Ω—ã–π: ‚úÖ –î–∞
–ò—Å—Ç–µ–∫–∞–µ—Ç: 2025-01-17
–û—Å—Ç–∞–ª–æ—Å—å: 60 –¥–Ω–µ–π
‚úÖ –¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
```

### 6.2 –¢–µ—Å—Ç–æ–≤–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è

```bash
python -c "from social_media_clients import FacebookPublisher; p = FacebookPublisher(); p.publish('Test post', 'https://thenextai.dev')"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
[Facebook] Initialized
[Facebook] ‚úÖ Published: 632284956645073_123456789
```

‚úÖ **Facebook —Ä–∞–±–æ—Ç–∞–µ—Ç!**

---

## –®–∞–≥ 7: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 7.1 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å cron

–¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ 60 –¥–Ω–µ–π. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:

```bash
# –û—Ç–∫—Ä—ã—Ç—å crontab
crontab -e

# –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 50 –¥–Ω–µ–π –≤ 3:00):
0 3 */50 * * cd /Volumes/T9/1_dev/wordpress-auto-poster && /opt/homebrew/anaconda3/bin/python refresh_facebook_token.py --refresh >> logs/fb_token_refresh.log 2>&1
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ (`:wq` –≤ vim –∏–ª–∏ Ctrl+X –≤ nano).

### 7.2 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å cron

```bash
crontab -l
```

‚úÖ **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ!**

---

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "App not set up for Facebook Login"

**–†–µ—à–µ–Ω–∏–µ:**
1. –í Facebook App –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Add Product**
2. –î–æ–±–∞–≤—å—Ç–µ **Facebook Login**
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "Error validating access token"

**–†–µ—à–µ–Ω–∏–µ:**
1. –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫ - –ø–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π –≤ Graph API Explorer
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –¥–æ–±–∞–≤–∏–ª–∏ –ø—Ä–∞–≤–∞ (permissions)
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `refresh_facebook_token.py --refresh` —Å–Ω–æ–≤–∞

### –ü—Ä–æ–±–ª–µ–º–∞ 3: "Page not found" –ø—Ä–∏ –æ–±–º–µ–Ω–µ —Ç–æ–∫–µ–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã –∞–¥–º–∏–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã
2. –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ `pages_show_list` –≤ Graph Explorer
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Page ID –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### –ü—Ä–æ–±–ª–µ–º–∞ 4: "Missing FACEBOOK_APP_ID or FACEBOOK_APP_SECRET"

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑ Facebook App ‚Üí Settings ‚Üí Basic
2. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env` —Ñ–∞–π–ª
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

| –ú–µ—Ç–æ–¥ | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –°—Ä–æ–∫ —Ç–æ–∫–µ–Ω–∞ | –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ |
|-------|-----------|-------------|--------------|
| **Permanent Token** | –í—ã—Å–æ–∫–∞—è (Business Manager) | ‚ôæÔ∏è –ë–µ—Å—Å—Ä–æ—á–Ω–æ | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è |
| **Auto-refresh** | –°—Ä–µ–¥–Ω—è—è (App ID/Secret) | 60 –¥–Ω–µ–π | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ (cron) |
| **Manual** | –ù–∏–∑–∫–∞—è (Graph Explorer) | 60 –¥–Ω–µ–π | –†—É—á–Ω–æ–µ –∫–∞–∂–¥—ã–µ 60 –¥–Ω–µ–π |

---

## –†–µ–∑—é–º–µ

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å Facebook App (5 –º–∏–Ω—É—Ç)
2. ‚úÖ –ü–æ–ª—É—á–∏—Ç—å App ID + App Secret
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ `.env`
4. ‚úÖ –ü–æ–ª—É—á–∏—Ç—å User Token –≤ Graph Explorer
5. ‚úÖ –û–±–º–µ–Ω—è—Ç—å –Ω–∞ Page Token —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
6. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å cron –¥–ª—è –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –†–µ–∑—É–ª—å—Ç–∞—Ç:

- ‚úÖ –¢–æ–∫–µ–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 50 –¥–Ω–µ–π
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç Business Manager
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚úÖ –ù–∞–¥–µ–∂–Ω–∞—è —Ä–∞–±–æ—Ç–∞

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Facebook:

```bash
# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
python test_social_media_integration.py

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥
python auto_publisher.py --publish-now
```

---

**–ì–æ—Ç–æ–≤–æ! Facebook –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–∞!** üéâ
